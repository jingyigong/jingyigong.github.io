<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/icon/quote-right-32x32.png" type="image/png" />
  <title>人生格言⊕ Find your words to live by.</title>
  <!-- 引入 Tailwind CSS v3 CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入 Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', 'Noto Sans SC', sans-serif;
    }
    
    .quote-serif {
      font-family: 'Noto Serif SC', serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #fefce8 0%, #fed7aa 100%);
    }
    
    .quote-card {
      background: linear-gradient(145deg, #ffffff, #fefce8);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 10px -2px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(253, 230, 138, 0.3);
    }
    
    .fade-in {
      animation: fadeIn 0.8s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .floating {
      animation: floating 3s ease-in-out infinite;
    }
    
    @keyframes floating {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    /* 滚动区域样式 */
    .scrollable-content {
      height: 50vh;
      overflow-y: auto;
      padding: 1px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    /* 自定义滚动条 */
    .scrollable-content::-webkit-scrollbar {
      width: 6px;
    }
    
    .scrollable-content::-webkit-scrollbar-track {
      background: rgba(253, 230, 138, 0.2);
      border-radius: 10px;
    }
    
    .scrollable-content::-webkit-scrollbar-thumb {
      background: rgba(245, 158, 11, 0.5);
      border-radius: 10px;
    }
    
    .scrollable-content::-webkit-scrollbar-thumb:hover {
      background: rgba(245, 158, 11, 0.7);
    }
    
        /* 统一段落间距 */
    .quote-text p {
      line-height: 1.625; /* 段落内部行间距，与段落间距保持一致 */
    }
  </style>
</head>
<body class="gradient-bg min-h-screen flex flex-col">

  <!-- 主内容容器 -->
  <div class="flex-1 flex items-center justify-center p-4">
    <div class="flex flex-col items-center">
      <!-- 卡片 -->
      <main class="max-w-md md:max-w-lg lg:max-w-xl mx-auto quote-card rounded-2xl w-full px-6 py-8 relative overflow-hidden flex flex-col mb-4">
        <!-- 装饰元素 -->
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-200 via-amber-400 to-amber-200"></div>
        
        <!-- 引号图标 -->
        <div class="mb-4 text-center floating">
          <img alt="icon quote" loading="lazy" class="mx-auto w-12 md:w-14 lg:w-16 opacity-80" decoding="async" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f59e0b'%3E%3Cpath d='M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z'/%3E%3C/svg%3E">
        </div>

        <!-- 可滚动的内容区域 -->
        <div class="scrollable-content flex-1">
          <!-- 格言正文 -->
          <div id="quote-text" class="quote-text quote-serif text-lg leading-none text-amber-900 cursor-pointer fade-in text-center">
            <p class="text-amber-600 italic">加载中...</p>
          </div>

          <!-- 作者署名 -->
          <cite id="quote-author" class="block mt-6 text-base text-amber-700 italic px-2 fade-in text-center">
            
          </cite>
        </div>
      </main>
      
      <!-- 提示文字 - 放在卡片下方 -->
      <div class="text-center text-sm text-amber-600 bg-white/70 rounded-full px-4 py-2">
        双击卡片切换格言
      </div>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const quoteTextEl = document.getElementById('quote-text');
  const quoteAuthorEl = document.getElementById('quote-author');

  let quotes = [];
  let lastIndex = -1;

  // 加载 JSON 数据 - 这里使用模拟数据，实际使用时请取消注释下面的fetch代码
  fetch('./data/lizhi.json')
    .then(res => res.json())
    .then(data => {
      quotes = data;
      // 默认加载一条格言
      if (quotes.length > 0) {
        showRandomQuote();
      }
    })
    .catch(error => {
      console.error('加载格言数据失败:', error);
      quoteTextEl.innerHTML = '<p class="text-amber-600">加载格言失败，请双击重试</p>';
    });

  // 显示随机格言的函数
  function showRandomQuote() {
    if (quotes.length === 0) return;

    let newIndex;
    if (quotes.length === 1) {
      newIndex = 0;
    } else {
      do {
        newIndex = Math.floor(Math.random() * quotes.length);
      } while (newIndex === lastIndex);
    }

    const randomQuote = quotes[newIndex];
    lastIndex = newIndex;

    // 添加淡出效果
    quoteTextEl.style.opacity = 0;
    quoteAuthorEl.style.opacity = 0;
    
    setTimeout(() => {
      // 滚动到顶部
      document.querySelector('.scrollable-content').scrollTop = 0;
      
      // 渲染正文（处理换行符 \n）
      quoteTextEl.innerHTML = randomQuote.text
        .split('\n')
        .map(line => `<p>${line}</p>`)
        .join('');

      // 渲染作者
      quoteAuthorEl.textContent = '—— ' + randomQuote.author;
      
      // 添加淡入效果
      quoteTextEl.style.opacity = 1;
      quoteAuthorEl.style.opacity = 1;
    }, 300);
  }

  // 双击格言正文触发随机功能
  if (quoteTextEl) {
    quoteTextEl.addEventListener('dblclick', showRandomQuote);
  }
});
</script>

</body>
</html>