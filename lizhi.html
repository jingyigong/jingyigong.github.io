<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>äººç”Ÿæ ¼è¨€+ | åŠ±å¿—åŠå­¦</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="shortcut icon" href="/icon/quote-right-32x32.png" type="image/png" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Ma+Shan+Zheng&display=swap');
    
    /* è‡ªå®šä¹‰åŠ¨ç”» */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes float {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-5px);
      }
    }
    
    .fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    /* å¡ç‰‡æ‚¬åœæ•ˆæœ */
    .quote-card {
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
      position: relative;
      overflow: hidden;
      break-inside: avoid;
      margin-bottom: 1.5rem;
      display: flex;
      flex-direction: column;
      max-height: 70vh; /* æ ¹æ®è§†å£é«˜åº¦è°ƒæ•´å¡ç‰‡æœ€å¤§é«˜åº¦ */
      min-height: 200px; /* æœ€å°é«˜åº¦ç¡®ä¿å¡ç‰‡å¯è§ */
    }
    
    .quote-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
    }
    
    .quote-card:hover::before {
      transform: scaleX(1);
    }
    
    .quote-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    /* å¡ç‰‡å†…å®¹åŒºåŸŸ - å¯æ»šåŠ¨ */
    .card-content {
      flex: 1;
      overflow-y: auto;
      padding: 0.5rem 0;
      scrollbar-width: thin;
      scrollbar-color: #cbd5e1 #f1f5f9;
    }
    
    .card-content::-webkit-scrollbar {
      width: 4px;
    }
    
    .card-content::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 10px;
    }
    
    .card-content::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 10px;
    }
    
    .card-content::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }
    
    /* ç€‘å¸ƒæµå¸ƒå±€ */
    .masonry-grid {
      column-count: 1;
      column-gap: 1.5rem;
    }
    
    @media (min-width: 768px) {
      .masonry-grid {
        column-count: 2;
      }
    }
    
    @media (min-width: 1024px) {
      .masonry-grid {
        column-count: 3; /* æ¡Œé¢å’Œå¤§å±å¹•ç»Ÿä¸€ä½¿ç”¨3åˆ— */
      }
    }
    
    /* æ¸å˜èƒŒæ™¯ */
    .gradient-bg-1 {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    }
    
    .gradient-bg-2 {
      background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
    }
    
    .gradient-bg-3 {
      background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
    }
    
    .gradient-bg-4 {
      background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
    }
    
    .gradient-bg-5 {
      background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
    }
    
    /* åŠ è½½åŠ¨ç”» */
    .loading-dots {
      display: inline-block;
      position: relative;
      width: 80px;
      height: 80px;
    }
    
    .loading-dots div {
      position: absolute;
      top: 33px;
      width: 13px;
      height: 13px;
      border-radius: 50%;
      background: #3b82f6;
      animation-timing-function: cubic-bezier(0, 1, 1, 0);
    }
    
    .loading-dots div:nth-child(1) {
      left: 8px;
      animation: loading-dots1 0.6s infinite;
    }
    
    .loading-dots div:nth-child(2) {
      left: 8px;
      animation: loading-dots2 0.6s infinite;
    }
    
    .loading-dots div:nth-child(3) {
      left: 32px;
      animation: loading-dots2 0.6s infinite;
    }
    
    .loading-dots div:nth-child(4) {
      left: 56px;
      animation: loading-dots3 0.6s infinite;
    }
    
    @keyframes loading-dots1 {
      0% { transform: scale(0); }
      100% { transform: scale(1); }
    }
    
    @keyframes loading-dots3 {
      0% { transform: scale(1); }
      100% { transform: scale(0); }
    }
    
    @keyframes loading-dots2 {
      0% { transform: translate(0, 0); }
      100% { transform: translate(24px, 0); }
    }
    
    /* åº•éƒ¨å¯¼èˆªæ é—´è· */
    .main-content {
      padding-bottom: 100px !important;
      min-height: calc(100vh - 200px); /* ç¡®ä¿å†…å®¹åŒºåŸŸæœ‰è¶³å¤Ÿé«˜åº¦ */
    }
    
    /* è®¾ç½®å¼¹çª—æ ·å¼ */
    .settings-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }
    
    .settings-content {
      background: white;
      border-radius: 12px;
      width: 90%;
      max-width: 500px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .settings-header {
      padding: 1.5rem;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .settings-body {
      padding: 1.5rem;
    }
    
    .settings-group {
      margin-bottom: 1.5rem;
    }
    
    .settings-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    
    .settings-select {
      width: 100%;
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      padding: 0.75rem;
      font-size: 0.875rem;
      transition: all 0.2s;
    }
    
    .settings-select:focus {
      outline: none;
      ring: 2px;
      ring-color: #3b82f6;
      border-color: #3b82f6;
    }
    
    .settings-footer {
      padding: 1rem 1.5rem;
      border-top: 1px solid #e5e7eb;
      display: flex;
      justify-content: flex-end;
      gap: 0.75rem;
    }
    
    .btn {
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background-color: #3b82f6;
      color: white;
      border: none;
    }
    
    .btn-primary:hover {
      background-color: #2563eb;
    }
    
    .btn-secondary {
      background-color: #f3f4f6;
      color: #374151;
      border: 1px solid #d1d5db;
    }
    
    .btn-secondary:hover {
      background-color: #e5e7eb;
    }
  </style>
</head>
<body class="gradient-bg-1 text-gray-800 flex flex-col min-h-screen transition-all duration-500">

  <!-- Header -->
  <header class="text-center py-6 bg-white/80 backdrop-blur-sm shadow-sm relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-purple-500"></div>
    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 font-serif">äººç”Ÿæ ¼è¨€+</h1>
    <p class="text-base md:text-lg text-gray-600 mt-2 font-sans">Find your words to live by.</p>
    <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"></div>
  </header>

  <!-- Controls (é»˜è®¤éšè—) -->
  <div id="controlsPanel" class="hidden flex-wrap justify-center gap-3 p-4 bg-white/60 backdrop-blur-sm border-b border-gray-200 shadow-sm">
    <!-- æ§åˆ¶é¡¹å†…å®¹å·²ç§»åŠ¨åˆ°è®¾ç½®å¼¹çª— -->
  </div>

  <!-- Content -->
  <main class="main-content p-4 max-w-7xl mx-auto w-full">
    <div id="quoteContainer" class="masonry-grid">
      <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
      <div id="loadingIndicator" class="col-span-full flex justify-center items-center py-12">
        <div class="loading-dots">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
      <!-- ç€‘å¸ƒæµå¡ç‰‡ç”± JS åŠ è½½ -->
    </div>
  </main>

  <!-- è®¾ç½®å¼¹çª— -->
  <div id="settingsModal" class="settings-modal">
    <div class="settings-content">
      <div class="settings-header">
        <h2 class="text-xl font-bold text-gray-800">è®¾ç½®</h2>
        <button id="closeSettings" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
      </div>
      <div class="settings-body">
        <div class="settings-group">
          <label class="settings-label">å­—ä½“å¤§å°</label>
          <select id="fontSize" class="settings-select">
            <option value="text-base">å°</option>
            <option value="text-lg" selected>ä¸­</option>
            <option value="text-xl">å¤§</option>
            <option value="text-2xl">ç‰¹å¤§</option>
          </select>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">å­—ä½“é¢œè‰²</label>
          <select id="fontColor" class="settings-select">
            <option value="text-gray-800">æ·±è‰²</option>
            <option value="text-sky-600">å¤©è‰²</option>
            <option value="text-blue-600">è“è‰²</option>
            <option value="text-purple-600">ç´«è‰²</option>
            <option value="text-green-600">ç»¿è‰²</option>
            <option value="text-amber-700">ç¥ç€è‰²</option>
          </select>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">èƒŒæ™¯ä¸»é¢˜</label>
          <select id="bgColor" class="settings-select">
            <option value="gradient-bg-1">æ·¡è“ç°</option>
            <option value="gradient-bg-2">ç´«è“æ¸å˜</option>
            <option value="gradient-bg-3">å¤©ç©ºè“</option>
            <option value="gradient-bg-4">æ¸…æ–°ç»¿</option>
            <option value="gradient-bg-5">ç²‰ç´«æ¸å˜</option>
            <option value="bg-white">çº¯ç™½</option>
          </select>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">å­—ä½“æ ·å¼</label>
          <select id="fontFamily" class="settings-select">
            <option value="font-sans">æ— è¡¬çº¿ä½“</option>
            <option value="font-serif" selected>è¡¬çº¿ä½“</option>
            <option value="font-mono">ç­‰å®½ä½“</option>
            <option value="chinese-handwriting">æ‰‹å†™ä½“</option>
          </select>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">å¸ƒå±€æ¨¡å¼</label>
          <select id="layoutMode" class="settings-select">
            <option value="masonry">ç€‘å¸ƒæµ</option>
            <option value="grid">ç½‘æ ¼</option>
          </select>
        </div>
      </div>
      <div class="settings-footer">
        <button id="resetSettings" class="btn btn-secondary">æ¢å¤é»˜è®¤</button>
        <button id="saveSettings" class="btn btn-primary">ä¿å­˜è®¾ç½®</button>
      </div>
    </div>
  </div>

  <!-- åº•éƒ¨å¯¼èˆªæ  -->
  <footer class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200 p-3 flex justify-around text-xs z-10">
    <a href="./index.html" class="flex flex-col items-center text-gray-700 hover:text-indigo-600 transition-all duration-300 transform hover:-translate-y-1">
      <span class="text-xl mb-1">ğŸ“š</span>
      <span>åˆ†ç±»</span>
    </a>
    <!-- <a href="./rand.html" class="flex flex-col items-center text-gray-700 hover:text-green-600 transition-all duration-300 transform hover:-translate-y-1">
      <span class="text-xl mb-1">ğŸ”€</span>
      <span>éšæœº</span> -->
    </a>
    <button id="settingsBtn" class="flex flex-col items-center text-gray-700 hover:text-blue-500 transition-all duration-300 transform hover:-translate-y-1">
      <span class="text-xl mb-1">âš™ï¸</span>
      <span>è®¾ç½®</span>
    </button>
  </footer>

  <!-- JSON æ•°æ®åŠ è½½ & æ§åˆ¶é€»è¾‘ -->
  <script>
    const container = document.getElementById("quoteContainer");
    const loadingIndicator = document.getElementById("loadingIndicator");
    const settingsBtn = document.getElementById("settingsBtn");
    const settingsModal = document.getElementById("settingsModal");
    const closeSettings = document.getElementById("closeSettings");
    const saveSettings = document.getElementById("saveSettings");
    const resetSettings = document.getElementById("resetSettings");

    // é»˜è®¤è®¾ç½®
    const defaultSettings = {
      fontSize: 'text-lg',
      fontColor: 'text-gray-800',
      bgColor: 'gradient-bg-1',
      fontFamily: 'font-serif',
      layoutMode: 'masonry'
    };

    // é»˜è®¤æ•°æ® - å½“JSONæ–‡ä»¶åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨
    const defaultQuotes = [
      {
        text: "å¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ï¼›åœ°åŠ¿å¤ï¼Œå›å­ä»¥åšå¾·è½½ç‰©ã€‚",
        author: "ã€Šå‘¨æ˜“ã€‹"
      },
      {
        text: "ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œï¼›ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·ã€‚éªéª¥ä¸€è·ƒï¼Œä¸èƒ½åæ­¥ï¼›é©½é©¬åé©¾ï¼ŒåŠŸåœ¨ä¸èˆã€‚",
        author: "è€å­ã€ŠåŠå­¦ã€‹"
      },
      {
        text: "å¿—ä¸ç«‹ï¼Œå¤©ä¸‹æ— å¯æˆä¹‹äº‹ã€‚è™½ç™¾å·¥æŠ€è‰ºï¼Œæœªæœ‰ä¸æœ¬äºå¿—è€…ã€‚ä»Šå­¦è€…æ—·åºŸéš³æƒ°ï¼Œç©å²æ„’æ—¶ï¼Œè€Œç™¾æ— æ‰€æˆï¼Œçš†ç”±äºå¿—ä¹‹æœªç«‹è€³ã€‚",
        author: "ç‹é˜³æ˜"
      },
      {
        text: "è¯»ä¹¦ç ´ä¸‡å·ï¼Œä¸‹ç¬”å¦‚æœ‰ç¥ã€‚èµ‹æ–™æ‰¬é›„æ•Œï¼Œè¯—çœ‹å­å»ºäº²ã€‚æé‚•æ±‚è¯†é¢ï¼Œç‹ç¿°æ„¿åœé‚»ã€‚è‡ªè°“é¢‡æŒºå‡ºï¼Œç«‹ç™»è¦è·¯æ´¥ã€‚",
        author: "æœç”«ã€Šå¥‰èµ éŸ¦å·¦ä¸ä¸ˆäºŒåäºŒéŸµã€‹"
      },
      {
        text: "é»‘å‘ä¸çŸ¥å‹¤å­¦æ—©ï¼Œç™½é¦–æ–¹æ‚”è¯»ä¹¦è¿Ÿã€‚ä¸‰æ›´ç¯ç«äº”æ›´é¸¡ï¼Œæ­£æ˜¯ç”·å„¿è¯»ä¹¦æ—¶ã€‚",
        author: "é¢œçœŸå¿ã€ŠåŠå­¦ã€‹"
      },
      {
        text: "è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚é•¿å¤ªæ¯ä»¥æ©æ¶•å…®ï¼Œå“€æ°‘ç”Ÿä¹‹å¤šè‰°ã€‚ä½™è™½å¥½ä¿®å§±ä»¥é¿ç¾å…®ï¼Œè¬‡æœè°‡è€Œå¤•æ›¿ã€‚",
        author: "å±ˆåŸã€Šç¦»éªšã€‹"
      },
      {
        text: "å®å‰‘é”‹ä»ç£¨ç ºå‡ºï¼Œæ¢…èŠ±é¦™è‡ªè‹¦å¯’æ¥ã€‚å°‘å£®ä¸ç»å‹¤å­¦è‹¦ï¼Œè€æ¥æ–¹æ‚”è¯»ä¹¦è¿Ÿã€‚ä¹¦åˆ°ç”¨æ—¶æ–¹æ¨å°‘ï¼Œäº‹éç»è¿‡ä¸çŸ¥éš¾ã€‚",
        author: "ã€Šè­¦ä¸–è´¤æ–‡ã€‹"
      },
      {
        text: "åƒæ·˜ä¸‡æ¼‰è™½è¾›è‹¦ï¼Œå¹å°½ç‹‚æ²™å§‹åˆ°é‡‘ã€‚è«é“è°—è¨€å¦‚æµªæ·±ï¼Œè«è¨€è¿å®¢ä¼¼æ²™æ²‰ã€‚",
        author: "åˆ˜ç¦¹é”¡ã€Šæµªæ·˜æ²™ã€‹"
      },
      {
        text: "éæ·¡æ³Šæ— ä»¥æ˜å¿—ï¼Œéå®é™æ— ä»¥è‡´è¿œã€‚å¤«å­¦é¡»é™ä¹Ÿï¼Œæ‰é¡»å­¦ä¹Ÿï¼Œéå­¦æ— ä»¥å¹¿æ‰ï¼Œéå¿—æ— ä»¥æˆå­¦ã€‚",
        author: "è¯¸è‘›äº®ã€Šè¯«å­ä¹¦ã€‹"
      },
      {
        text: "å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†ã€‚çŸ¥ä¹‹ä¸ºçŸ¥ä¹‹ï¼Œä¸çŸ¥ä¸ºä¸çŸ¥ï¼Œæ˜¯çŸ¥ä¹Ÿã€‚æ¸©æ•…è€ŒçŸ¥æ–°ï¼Œå¯ä»¥ä¸ºå¸ˆçŸ£ã€‚",
        author: "å­”å­ã€Šè®ºè¯­ã€‹"
      },
      {
        text: "çŸ¥ä¹‹è€…ä¸å¦‚å¥½ä¹‹è€…ï¼Œå¥½ä¹‹è€…ä¸å¦‚ä¹ä¹‹è€…ã€‚é»˜è€Œè¯†ä¹‹ï¼Œå­¦è€Œä¸åŒï¼Œè¯²äººä¸å€¦ï¼Œä½•æœ‰äºæˆ‘å“‰ï¼Ÿ",
        author: "å­”å­ã€Šè®ºè¯­ã€‹"
      },
      {
        text: "ä¸‰äººè¡Œï¼Œå¿…æœ‰æˆ‘å¸ˆç„‰ã€‚æ‹©å…¶å–„è€…è€Œä»ä¹‹ï¼Œå…¶ä¸å–„è€…è€Œæ”¹ä¹‹ã€‚è§è´¤æ€é½ç„‰ï¼Œè§ä¸è´¤è€Œå†…è‡ªçœä¹Ÿã€‚",
        author: "å­”å­ã€Šè®ºè¯­ã€‹"
      },
      {
        text: "ä¸šç²¾äºå‹¤ï¼Œè’äºå¬‰ï¼›è¡Œæˆäºæ€ï¼Œæ¯äºéšã€‚ç„šè†æ²¹ä»¥ç»§æ™·ï¼Œæ’å…€å…€ä»¥ç©·å¹´ã€‚å…ˆç”Ÿä¹‹ä¸šï¼Œå¯è°“å‹¤çŸ£ã€‚",
        author: "éŸ©æ„ˆã€Šè¿›å­¦è§£ã€‹"
      },
      {
        text: "ç‰ä¸ç¢ï¼Œä¸æˆå™¨ï¼›äººä¸å­¦ï¼Œä¸çŸ¥é“ã€‚æ˜¯æ•…å¤ä¹‹ç‹è€…ï¼Œå»ºå›½å›æ°‘ï¼Œæ•™å­¦ä¸ºå…ˆã€‚",
        author: "ã€Šç¤¼è®°Â·å­¦è®°ã€‹"
      },
      {
        text: "åšå­¦ä¹‹ï¼Œå®¡é—®ä¹‹ï¼Œæ…æ€ä¹‹ï¼Œæ˜è¾¨ä¹‹ï¼Œç¬ƒè¡Œä¹‹ã€‚æœ‰å¼—å­¦ï¼Œå­¦ä¹‹å¼—èƒ½å¼—æªä¹Ÿï¼›æœ‰å¼—é—®ï¼Œé—®ä¹‹å¼—çŸ¥å¼—æªä¹Ÿï¼›",
        author: "ã€Šç¤¼è®°Â·ä¸­åº¸ã€‹"
      },
      {
        text: "å°‘å¹´æ˜“è€å­¦éš¾æˆï¼Œä¸€å¯¸å…‰é˜´ä¸å¯è½»ã€‚æœªè§‰æ± å¡˜æ˜¥è‰æ¢¦ï¼Œé˜¶å‰æ¢§å¶å·²ç§‹å£°ã€‚",
        author: "æœ±ç†¹ã€ŠåŠå­¦è¯—ã€‹"
      },
      {
        text: "çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚å¤äººå­¦é—®æ— é—åŠ›ï¼Œå°‘å£®å·¥å¤«è€å§‹æˆã€‚",
        author: "é™†æ¸¸ã€Šå†¬å¤œè¯»ä¹¦ç¤ºå­è¿ã€‹"
      },
      {
        text: "é—®æ¸ é‚£å¾—æ¸…å¦‚è®¸ï¼Ÿä¸ºæœ‰æºå¤´æ´»æ°´æ¥ã€‚åŠäº©æ–¹å¡˜ä¸€é‰´å¼€ï¼Œå¤©å…‰äº‘å½±å…±å¾˜å¾Šã€‚",
        author: "æœ±ç†¹ã€Šè§‚ä¹¦æœ‰æ„Ÿã€‹"
      },
      {
        text: "ç››å¹´ä¸é‡æ¥ï¼Œä¸€æ—¥éš¾å†æ™¨ã€‚åŠæ—¶å½“å‹‰åŠ±ï¼Œå²æœˆä¸å¾…äººã€‚",
        author: "é™¶æ¸Šæ˜ã€Šæ‚è¯—ã€‹"
      },
      {
        text: "æ˜æ—¥å¤æ˜æ—¥ï¼Œæ˜æ—¥ä½•å…¶å¤šã€‚æˆ‘ç”Ÿå¾…æ˜æ—¥ï¼Œä¸‡äº‹æˆè¹‰è·ã€‚",
        author: "é’±ç¦ã€Šæ˜æ—¥æ­Œã€‹"
      }
    ];

    // Cookie æ“ä½œå‡½æ•°
    function setCookie(name, value, days = 365) {
      const expires = new Date();
      expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
      document.cookie = `${name}=${encodeURIComponent(JSON.stringify(value))};expires=${expires.toUTCString()};path=/`;
    }

    function getCookie(name) {
      const nameEQ = name + "=";
      const ca = document.cookie.split(';');
      for(let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) === ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) === 0) {
          return JSON.parse(decodeURIComponent(c.substring(nameEQ.length, c.length)));
        }
      }
      return null;
    }

    // åŠ è½½è®¾ç½®
    function loadSettings() {
      const savedSettings = getCookie('quoteSettings');
      return savedSettings ? {...defaultSettings, ...savedSettings} : defaultSettings;
    }

    // ä¿å­˜è®¾ç½®
    function saveSettingsToCookie() {
      const settings = {
        fontSize: document.getElementById('fontSize').value,
        fontColor: document.getElementById('fontColor').value,
        bgColor: document.getElementById('bgColor').value,
        fontFamily: document.getElementById('fontFamily').value,
        layoutMode: document.getElementById('layoutMode').value
      };
      setCookie('quoteSettings', settings);
      return settings;
    }

    // åº”ç”¨è®¾ç½®åˆ°è¡¨å•
    function applySettingsToForm(settings) {
      document.getElementById('fontSize').value = settings.fontSize;
      document.getElementById('fontColor').value = settings.fontColor;
      document.getElementById('bgColor').value = settings.bgColor;
      document.getElementById('fontFamily').value = settings.fontFamily;
      document.getElementById('layoutMode').value = settings.layoutMode;
    }

    // å…¨å±€æ ·å¼æ›´æ–°å‡½æ•°
    function updateStyle() {
      const fontSize = document.getElementById("fontSize").value;
      const fontColor = document.getElementById("fontColor").value;
      const bgColor = document.getElementById("bgColor").value;
      const fontFamily = document.getElementById("fontFamily").value;
      const layoutMode = document.getElementById("layoutMode").value;

      // ä¸ºæ¯ä¸ªæ­£æ–‡å…ƒç´ æ·»åŠ æ ·å¼
      document.querySelectorAll(".quote-text").forEach(el => {
        el.className = `quote-text mb-4 leading-relaxed whitespace-pre-line ${fontSize} ${fontColor} ${fontFamily}`;
      });

      // æ›´æ–°é¡µé¢èƒŒæ™¯è‰²
      document.body.className = `flex flex-col min-h-screen transition-all duration-500 ${bgColor} text-gray-800`;
      
      // ä¸ºä½œè€…å…ƒç´ æ·»åŠ æ ·å¼
      document.querySelectorAll(".quote-author").forEach(el => {
        el.className = `quote-author text-center text-sm text-gray-500 mt-2 italic ${fontFamily}`;
      });

      // æ›´æ–°å¸ƒå±€
      if (layoutMode === 'grid') {
        container.className = 'grid gap-6 md:grid-cols-2 lg:grid-cols-3';
      } else {
        container.className = 'masonry-grid';
      }
    }

    // è®¾ç½®å¼¹çª—æ§åˆ¶
    function setupSettingsModal() {
      // æ‰“å¼€è®¾ç½®
      settingsBtn.addEventListener('click', function() {
        settingsModal.style.display = 'flex';
        this.classList.add('float-animation');
        setTimeout(() => {
          this.classList.remove('float-animation');
        }, 3000);
      });

      // å…³é—­è®¾ç½®
      closeSettings.addEventListener('click', function() {
        settingsModal.style.display = 'none';
      });

      // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
      settingsModal.addEventListener('click', function(e) {
        if (e.target === settingsModal) {
          settingsModal.style.display = 'none';
        }
      });

      // ä¿å­˜è®¾ç½®
      saveSettings.addEventListener('click', function() {
        const settings = saveSettingsToCookie();
        updateStyle();
        settingsModal.style.display = 'none';
        showNotification('è®¾ç½®å·²ä¿å­˜');
      });

      // é‡ç½®è®¾ç½®
      resetSettings.addEventListener('click', function() {
        applySettingsToForm(defaultSettings);
        showNotification('å·²æ¢å¤é»˜è®¤è®¾ç½®');
      });
    }

    // æ˜¾ç¤ºé€šçŸ¥
    function showNotification(message) {
      const notification = document.createElement('div');
      notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 fade-in-up';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // æ¸²æŸ“å¡ç‰‡
    function renderQuotes(quotes) {
      container.innerHTML = ""; // æ¸…ç©ºæ—§å†…å®¹

      if (!Array.isArray(quotes) || quotes.length === 0) {
        container.innerHTML = "<p class='text-red-500 col-span-full text-center py-8'>æ²¡æœ‰æ‰¾åˆ°æ ¼è¨€æ•°æ®</p>";
        return;
      }

      quotes.forEach((item, index) => {
        const card = document.createElement("div");
        card.className = `quote-card p-6 text-center rounded-2xl shadow-lg bg-white/90 backdrop-blur-sm fade-in-up`;
        card.style.animationDelay = `${index * 0.1}s`;
        card.style.opacity = 0;

        // åˆ›å»ºå¯æ»šåŠ¨çš„å†…å®¹åŒºåŸŸ
        const cardContent = document.createElement("div");
        cardContent.className = "card-content";

        // è£…é¥°æ€§å¼•å·
        const openQuote = document.createElement("div");
        openQuote.className = "text-4xl text-blue-300 mb-2";
        openQuote.textContent = "â€œ";

        // æ­£æ–‡
        const pText = document.createElement("p");
        pText.className = "quote-text mb-4 leading-relaxed whitespace-pre-line text-lg text-gray-800 font-serif";
        pText.textContent = (item && item.text) ? String(item.text) : "";

        // è£…é¥°æ€§å¼•å·
        const closeQuote = document.createElement("div");
        closeQuote.className = "text-4xl text-blue-300 mt-2";
        closeQuote.textContent = "â€";

        // ä½œè€…
        const pAuthor = document.createElement("p");
        pAuthor.className = "quote-author text-center text-sm text-gray-500 mt-2 italic font-serif";
        pAuthor.textContent = "â€”â€” " + ((item && item.author) ? String(item.author) : "ä½šå");

        // ç»„è£…å¡ç‰‡
        cardContent.appendChild(openQuote);
        cardContent.appendChild(pText);
        cardContent.appendChild(closeQuote);
        card.appendChild(cardContent);
        card.appendChild(pAuthor);
        container.appendChild(card);
      });

      // åº”ç”¨å½“å‰æ§åˆ¶é¡¹
      updateStyle();
    }

    // åŠ è½½å¹¶æ¸²æŸ“å¡ç‰‡
    async function loadQuotes() {
      try {
        // ä¼˜å…ˆä»JSONæ–‡ä»¶åŠ è½½æ•°æ®
        const res = await fetch("data/lizhi.json");
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const quotes = await res.json();
        
        // éšè—åŠ è½½æŒ‡ç¤ºå™¨
        loadingIndicator.style.display = 'none';
        
        // æ¸²æŸ“ä»JSONæ–‡ä»¶è·å–çš„æ•°æ®
        renderQuotes(quotes);
        
      } catch (err) {
        console.error("ä»JSONæ–‡ä»¶åŠ è½½æ•°æ®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤æ•°æ®:", err);
        
        // æ¨¡æ‹ŸåŠ è½½å»¶è¿Ÿ
        setTimeout(() => {
          // éšè—åŠ è½½æŒ‡ç¤ºå™¨
          loadingIndicator.style.display = 'none';
          
          // ä½¿ç”¨é»˜è®¤æ•°æ®
          renderQuotes(defaultQuotes);
          
          // æ˜¾ç¤ºä½¿ç”¨é»˜è®¤æ•°æ®çš„æç¤º
          showNotification('ä½¿ç”¨é»˜è®¤æ ¼è¨€æ•°æ®');
        }, 1000);
      }
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      // åŠ è½½è®¾ç½®å¹¶åº”ç”¨åˆ°è¡¨å•
      const settings = loadSettings();
      applySettingsToForm(settings);
      
      // è®¾ç½®å¼¹çª—
      setupSettingsModal();
      
      // åº”ç”¨è®¾ç½®
      updateStyle();
      
      // åŠ è½½æ•°æ®
      loadQuotes();
      
      // æ·»åŠ æ‰‹å†™ä½“æ ·å¼ç±»
      const style = document.createElement('style');
      style.textContent = `
        .chinese-handwriting {
          font-family: 'Ma Shan Zheng', cursive;
        }
      `;
      document.head.appendChild(style);
    });
  </script>

</body>
</html>